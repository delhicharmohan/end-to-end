(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3a4dca9e"],{"25c8":function(e,t,s){"use strict";s("c690")},"2de5":function(e,t,s){"use strict";s.r(t);var a=s("b7a2");const i={class:"h-full flex flex-col p-4"},l={key:"1",class:"h-full"},c={class:"flex w-full ht-42 px-4 mt-2"},r={key:0,class:"h-full w-full flex justify-start items-center"},o={key:1,class:"h-full w-full flex justify-start items-center"},n={class:"ml-2 font-semibold text-xl"},d={key:1,class:"flex-auto flex flex-col overflow-y-auto"},b={key:"2",class:"h-full"},u={class:"flex justify-end items-center px-4 pt-4"},m={key:1,class:"flex flex-col overflow-x-auto"},h={class:"sm:-mx-6 lg:-mx-8"},O={class:"inline-block min-w-full sm:px-6 lg:px-8"},p={class:"overflow-x-auto"},j={class:"min-w-full text-left text-sm font-light"},f={class:"whitespace-nowrap px-6 py-4 font-medium"},v={class:"whitespace-nowrap px-6 py-4"},y={class:"whitespace-nowrap px-6 py-4"},x={class:"whitespace-nowrap px-6 py-4"},g={class:"whitespace-nowrap px-6 py-4"},w={class:"flex justify-center items-center"},U={key:2,class:"text-center font-medium"},V={class:"flex flex-col justify-center items-center"},k={class:"justify-center font-bold text-2xl"};function B(e,t,s,B,I,L){const C=Object(a["H"])("base-dialog"),T=Object(a["H"])("base-toast"),P=Object(a["H"])("icon-spinner"),H=Object(a["H"])("icon-back"),_=Object(a["H"])("base-spinner"),M=Object(a["H"])("user-form"),$=Object(a["H"])("base-card"),F=Object(a["H"])("base-button"),N=Object(a["H"])("icon-edit"),E=Object(a["H"])("icon-delete"),S=Object(a["H"])("router-link");return Object(a["B"])(),Object(a["h"])("div",i,[Object(a["l"])(C,{show:!!I.error,title:"An error occurred!",onClose:L.handleError},{default:Object(a["T"])(()=>[Object(a["i"])("p",null,Object(a["L"])(I.error),1)]),_:1},8,["show","onClose"]),I.baseToast.message?(Object(a["B"])(),Object(a["f"])(T,{key:0,message:I.baseToast.message,type:I.baseToast.type,onClose:L.handleBaseToast},null,8,["message","type","onClose"])):Object(a["g"])("",!0),I.isPermission?(Object(a["B"])(),Object(a["f"])(a["c"],{key:1,name:"fade",mode:"out-in"},{default:Object(a["T"])(()=>[I.isCreateUser?(Object(a["B"])(),Object(a["h"])("section",l,[Object(a["l"])($,{class:"h-full flex flex-col"},{default:Object(a["T"])(()=>[Object(a["i"])("div",c,[I.isLoading?(Object(a["B"])(),Object(a["h"])("div",r,[Object(a["l"])(P,{class:"text-blue-600"}),t[1]||(t[1]=Object(a["i"])("h1",{class:"ml-2 font-semibold text-xl"},"Creating...",-1))])):(Object(a["B"])(),Object(a["h"])("div",o,[Object(a["l"])(H,{onClick:t[0]||(t[0]=Object(a["V"])(e=>I.isCreateUser=!1,["stop"])),class:"text-blue-600"}),Object(a["i"])("h1",n,Object(a["L"])(L.getFormText),1)]))]),I.isLoading?(Object(a["B"])(),Object(a["f"])(_,{key:0,class:"flex-auto"})):(Object(a["B"])(),Object(a["h"])("div",d,[Object(a["l"])(M,{mode:I.mode,"selected-user":I.selectedUser,onCreateUser:L.createUser},null,8,["mode","selected-user","onCreateUser"])]))]),_:1})])):(Object(a["B"])(),Object(a["h"])("section",b,[Object(a["l"])($,{class:Object(a["t"])(["h-full flex flex-col",I.isLoading?"flex":""])},{default:Object(a["T"])(()=>[Object(a["i"])("div",u,[Object(a["l"])(F,{mode:"outline",onClick:Object(a["V"])(L.createBtnClicked,["stop"])},{default:Object(a["T"])(()=>[...t[2]||(t[2]=[Object(a["k"])("Create",-1)])]),_:1},8,["onClick"])]),I.isLoading?(Object(a["B"])(),Object(a["f"])(_,{key:0,class:"flex-auto"})):L.hasUsers&&!I.isLoading?(Object(a["B"])(),Object(a["h"])("div",m,[Object(a["i"])("div",h,[Object(a["i"])("div",O,[Object(a["i"])("div",p,[Object(a["i"])("table",j,[t[3]||(t[3]=Object(a["i"])("thead",{class:"border-b font-medium dark:border-neutral-500"},[Object(a["i"])("tr",null,[Object(a["i"])("th",{scope:"col",class:"px-6 py-4"},"#"),Object(a["i"])("th",{scope:"col",class:"px-6 py-4"},"Name"),Object(a["i"])("th",{scope:"col",class:"px-6 py-4"},"Username"),Object(a["i"])("th",{scope:"col",class:"px-6 py-4"},"Email"),Object(a["i"])("th",{scope:"col",class:"px-6 py-4"},"Phone Number"),Object(a["i"])("th",{scope:"col",class:"px-6 py-4"},"Actions")])],-1)),Object(a["i"])("tbody",null,[(Object(a["B"])(!0),Object(a["h"])(a["a"],null,Object(a["F"])(L.filteredUsers,(e,t)=>(Object(a["B"])(),Object(a["h"])("tr",{key:t,class:"border-b dark:border-neutral-500"},[Object(a["i"])("td",f,Object(a["L"])(t+1),1),Object(a["i"])("td",v,Object(a["L"])(e.name),1),Object(a["i"])("td",y,Object(a["L"])(e.username),1),Object(a["i"])("td",x,Object(a["L"])(e.email),1),Object(a["i"])("td",g,Object(a["L"])(e.phone),1),Object(a["i"])("td",null,[Object(a["i"])("div",w,[Object(a["l"])(N,{onClick:Object(a["V"])(t=>L.updateUser(e),["stop"]),class:"h-5 w-5 cursor-pointer hover:text-blue-600 mr-2"},null,8,["onClick"]),Object(a["l"])(E,{onClick:Object(a["V"])(t=>L.deleteUser(e),["stop"]),class:"h-5 w-5 cursor-pointer hover:text-red-600"},null,8,["onClick"])])])]))),128))])])])])])])):(Object(a["B"])(),Object(a["h"])("h3",U,"No order creator users found!"))]),_:1},8,["class"])]))]),_:1})):(Object(a["B"])(),Object(a["f"])($,{key:2,class:"h-full flex flex-col justify-center items-center"},{default:Object(a["T"])(()=>[Object(a["i"])("div",V,[t[6]||(t[6]=Object(a["i"])("h1",{class:"justify-center font-bold text-2xl text-red-600"}," You don't have permission to access this page! ",-1)),Object(a["i"])("p",k,[t[5]||(t[5]=Object(a["k"])(" Go to home page ",-1)),Object(a["l"])(S,{to:"/"},{default:Object(a["T"])(()=>[...t[4]||(t[4]=[Object(a["i"])("span",{class:"underline cursor-pointer text-blue-700"},"Wiz-Pay",-1)])]),_:1})])])]),_:1}))])}var I=s("4905"),L=s("5801"),C=s("7f16");const T={class:"w-full flex flex-row flex-wrap mt-4"},P={key:0,class:"text-xs text-red-600"},H={key:0,class:"border rounded-lg px-4 py-2 bg-gray-100"},_={key:2,class:"text-xs text-red-600"},M={key:0,class:"text-xs text-red-600"},$={key:0,class:"text-xs text-red-600"},F={key:0,class:"text-xs text-red-600"},N={key:0,class:"mt-4 w-1/2 pl-4"},E={key:1,class:"mt-4 w-1/2 pr-4"},S={class:"w-full grid grid-cols-2 gap-8 mt-4"},A={class:"flex flex-col"},Q={class:"w-full flex items-center"},z={class:"flex flex-col"},D={class:"w-full flex items-center"},Y={key:0,class:"text-xs text-red-600"},J={class:"w-full flex flex-col justify-center items-center mt-8"},G={key:0,class:"mb-4 text-red-600"},K={class:"capitalize"};function W(e,t,s,i,l,c){const r=Object(a["H"])("base-button");return Object(a["B"])(),Object(a["h"])("form",{onSubmit:t[15]||(t[15]=Object(a["V"])((...e)=>c.submitForm&&c.submitForm(...e),["prevent"])),class:"flex flex-row flex-wrap px-4 mt-4 mb-4"},[t[27]||(t[27]=Object(a["i"])("h1",{class:"text-lg font-medium"},"Basic Information",-1)),Object(a["i"])("div",T,[Object(a["i"])("div",{class:Object(a["t"])(["w-1/2 pr-4",{invalid:!l.name.isValid}])},[t[16]||(t[16]=Object(a["i"])("label",{for:"name"},"Name",-1)),Object(a["U"])(Object(a["i"])("input",{type:"text",id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>l.name.val=e),onBlur:t[1]||(t[1]=e=>c.clearValidity("name"))},null,544),[[a["Q"],l.name.val,void 0,{trim:!0}]]),l.name.isValid?Object(a["g"])("",!0):(Object(a["B"])(),Object(a["h"])("p",P," Name must not be empty. "))],2),Object(a["i"])("div",{class:Object(a["t"])(["w-1/2 pl-4",{invalid:!l.username.isValid}])},[t[17]||(t[17]=Object(a["i"])("label",{for:"username"},"Username",-1)),"update"==s.mode?(Object(a["B"])(),Object(a["h"])("div",H,Object(a["L"])(l.username.val),1)):Object(a["U"])((Object(a["B"])(),Object(a["h"])("input",{key:1,type:"text",id:"username","onUpdate:modelValue":t[2]||(t[2]=e=>l.username.val=e),onBlur:t[3]||(t[3]=e=>c.clearValidity("username"))},null,544)),[[a["Q"],l.username.val,void 0,{trim:!0}]]),l.username.isValid?Object(a["g"])("",!0):(Object(a["B"])(),Object(a["h"])("p",_," Username must not be empty. "))],2),Object(a["i"])("div",{class:Object(a["t"])(["mt-4 w-1/2 pr-4",{invalid:!l.email.isValid}])},[t[18]||(t[18]=Object(a["i"])("label",{for:"email"},"Email",-1)),Object(a["U"])(Object(a["i"])("input",{type:"email",id:"email","onUpdate:modelValue":t[4]||(t[4]=e=>l.email.val=e),onBlur:t[5]||(t[5]=e=>c.clearValidity("email"))},null,544),[[a["Q"],l.email.val,void 0,{trim:!0}]]),l.email.isValid?Object(a["g"])("",!0):(Object(a["B"])(),Object(a["h"])("p",M," Email must not be empty. "))],2),Object(a["i"])("div",{class:Object(a["t"])(["mt-4 w-1/2 pl-4",{invalid:!l.phone.isValid}])},[t[19]||(t[19]=Object(a["i"])("label",{for:"phone"},"Phone",-1)),Object(a["U"])(Object(a["i"])("input",{type:"text",id:"phone","onUpdate:modelValue":t[6]||(t[6]=e=>l.phone.val=e),maxlength:"10",onBlur:t[7]||(t[7]=e=>c.clearValidity("phone")),onKeypress:t[8]||(t[8]=e=>c.isNumber(e))},null,544),[[a["Q"],l.phone.val,void 0,{trim:!0}]]),l.phone.isValid?Object(a["g"])("",!0):(Object(a["B"])(),Object(a["h"])("p",$,Object(a["L"])(l.phone.msg),1))],2),Object(a["i"])("div",{class:Object(a["t"])(["mt-4 w-1/2 pr-4",{invalid:!l.password.isValid}])},[t[20]||(t[20]=Object(a["i"])("label",{for:"password"},"Password",-1)),Object(a["U"])(Object(a["i"])("input",{type:"text",id:"password","onUpdate:modelValue":t[9]||(t[9]=e=>l.password.val=e),onBlur:t[10]||(t[10]=e=>c.clearValidity("password"))},null,544),[[a["Q"],l.password.val,void 0,{trim:!0}]]),l.password.isValid?Object(a["g"])("",!0):(Object(a["B"])(),Object(a["h"])("p",F," Password must not be empty. "))],2),"update"==s.mode?(Object(a["B"])(),Object(a["h"])("div",N,[t[22]||(t[22]=Object(a["i"])("label",{for:"status"},"Status",-1)),Object(a["U"])(Object(a["i"])("select",{"onUpdate:modelValue":t[11]||(t[11]=e=>l.status.val=e),id:"status"},[...t[21]||(t[21]=[Object(a["i"])("option",{value:"1"},"Active",-1),Object(a["i"])("option",{value:"0"},"In Active",-1)])],512),[[a["P"],l.status.val,void 0,{trim:!0}]])])):Object(a["g"])("",!0),"update"==s.mode?(Object(a["B"])(),Object(a["h"])("div",E,[t[24]||(t[24]=Object(a["i"])("label",{for:"isLoggedIn"},"Login Status",-1)),Object(a["U"])(Object(a["i"])("select",{"onUpdate:modelValue":t[12]||(t[12]=e=>l.isLoggedIn.val=e),id:"isLoggedIn"},[...t[23]||(t[23]=[Object(a["i"])("option",{value:"1"},"Logged In",-1),Object(a["i"])("option",{value:"0"},"Logged Out",-1)])],512),[[a["P"],l.isLoggedIn.val,void 0,{trim:!0}]])])):Object(a["g"])("",!0)]),t[28]||(t[28]=Object(a["i"])("h1",{class:"text-lg font-medium mt-8"},"Payment Type Information",-1)),Object(a["i"])("div",S,[Object(a["i"])("div",A,[Object(a["i"])("div",Q,[Object(a["U"])(Object(a["i"])("input",{type:"checkbox",id:"pay-in","onUpdate:modelValue":t[13]||(t[13]=e=>l.payIn.val=e),class:"mr-2"},null,512),[[a["O"],l.payIn.val,void 0,{trim:!0}]]),t[25]||(t[25]=Object(a["i"])("label",{for:"pay-in",class:"mb-0"},"Pay In",-1))])]),Object(a["i"])("div",z,[Object(a["i"])("div",D,[Object(a["U"])(Object(a["i"])("input",{type:"checkbox",id:"pay-in","onUpdate:modelValue":t[14]||(t[14]=e=>l.payOut.val=e),class:"mr-2"},null,512),[[a["O"],l.payOut.val,void 0,{trim:!0}]]),t[26]||(t[26]=Object(a["i"])("label",{for:"pay-in",class:"mb-0"},"Pay Out",-1))])])]),l.payInpayOutValMsg?(Object(a["B"])(),Object(a["h"])("p",Y,Object(a["L"])(l.payInpayOutValMsg),1)):Object(a["g"])("",!0),Object(a["i"])("div",J,[l.formIsValid?Object(a["g"])("",!0):(Object(a["B"])(),Object(a["h"])("p",G," Please fix the above errors and submit again. ")),Object(a["l"])(r,null,{default:Object(a["T"])(()=>[Object(a["i"])("span",K,Object(a["L"])(s.mode),1)]),_:1})])],32)}var q={name:"vendor-user-form",emits:["create-user"],props:["mode","selectedUser"],mounted(){"update"==this.mode&&this.setUser()},data(){return{name:{val:"",isValid:!0,msg:""},username:{val:"",isValid:!0,msg:""},email:{val:"",isValid:!0,msg:""},phone:{val:"",isValid:!0,msg:""},password:{val:"",isValid:!0,msg:""},role:{val:"order_creator",isValid:!0,msg:""},status:{val:!0,isValid:!0,msg:""},isLoggedIn:{val:!1,isValid:!0,msg:""},payIn:{val:!1,isValid:!0,msg:""},payOut:{val:!1,isValid:!0,msg:""},payInpayOutValMsg:"",formIsValid:!0}},watch:{"payIn.val":function(){this.payInpayOutValMsg=""},"payOut.val":function(){this.payInpayOutValMsg=""}},methods:{clearValidity(e){this[e].isValid=!0,this[e].msg=""},validateForm(){this.formIsValid=!0,"create"==this.mode&&(""===this.username.val&&(this.username.isValid=!1,this.formIsValid=!1),""===this.password.val&&(this.password.isValid=!1,this.formIsValid=!1)),""===this.name.val&&(this.name.isValid=!1,this.formIsValid=!1),""===this.email.val&&(this.email.isValid=!1,this.formIsValid=!1),""===this.phone.val?(this.phone.isValid=!1,this.phone.msg="Phone must not be empty.",this.formIsValid=!1):this.phone.val.length<10&&(this.phone.isValid=!1,this.phone.msg="Phone number must be 10 digits.",this.formIsValid=!1),!1===this.payIn.val&&!1===this.payOut.val&&(this.payInpayOutValMsg="Please select either 'Pay In' or 'Pay Out'.",this.formIsValid=!1)},submitForm(){if(this.validateForm(),!this.formIsValid)return;let e={username:this.username.val,name:this.name.val,email:this.email.val,phone:this.phone.val,role:this.role.val,status:this.status.val,isLoggedIn:this.isLoggedIn.val,payIn:this.payIn.val?1:0,payOut:this.payOut.val?1:0};("create"==this.mode||""!=this.password.val)&&(e.password=this.password.val),this.$emit("create-user",e)},isNumber:function(e){e=e||window.event;var t=e.which?e.which:e.keyCode;if(!(t>31&&(t<48||t>57)&&46!==t))return!0;e.preventDefault()},setUser(){this.name.val=this.selectedUser.name,this.username.val=this.selectedUser.username,this.email.val=this.selectedUser.email,this.phone.val=this.selectedUser.phone,this.role.val="order_creator",this.status.val=this.selectedUser.status,this.isLoggedIn.val=this.selectedUser.isLoggedIn,this.payIn.val=!!this.selectedUser.payIn,this.payOut.val=!!this.selectedUser.payOut}}},R=s("4f1a"),X=s.n(R);const Z=X()(q,[["render",W]]);var ee=Z,te=s("de1a"),se={name:"order-creator",components:{IconEdit:I["a"],IconDelete:L["a"],IconBack:C["a"],IconSpinner:te["a"],UserForm:ee},data(){return{isPermission:!0,isLoading:!1,error:null,isCreateUser:!1,baseToast:{type:"",message:""},mode:"create",selectedUser:Object}},computed:{vendor(){return this.$store.getters.vendor},filteredUsers(){return this.$store.getters["ordercreator/users"]},hasUsers(){return this.$store.getters["ordercreator/hasUsers"]},getFormText(){return"create"==this.mode?"Create Order Creator":"Update Order Creator - "+this.selectedUser.username}},created(){this.getUsers()},methods:{async getUsers(){this.isLoading=!0;try{await this.$store.dispatch("ordercreator/getUsers")}catch(e){e.status||(this.isPermission=!1),this.error=e.message||"Something failed!"}this.isLoading=!1},handleError(){this.error=null},handleBaseToast(){this.baseToast={type:"",message:""}},createBtnClicked(){this.mode="create",this.isCreateUser=!0,this.selectedUser=Object},async createUser(e){this.isLoading=!0;try{"create"==this.mode?(await this.$store.dispatch("ordercreator/createUser",e),this.baseToast.message="Order Creator User created successfully!"):(await this.$store.dispatch("ordercreator/updateUser",e),this.baseToast.message="Order Creator User updated successfully!"),this.isCreateUser=!1,this.baseToast.type="success";let t=this;setTimeout(()=>{t.handleBaseToast()},1e3)}catch(t){this.error=t.message||"Something failed!"}this.isLoading=!1},updateUser(e){this.mode="update",this.isCreateUser=!0,this.selectedUser=e},async deleteUser(e){this.selectedUser=e,this.$swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(async e=>{e.isConfirmed&&(await this.$store.dispatch("ordercreator/deleteUser",this.selectedUser),this.$swal.fire("Deleted!","Order Creator User has been deleted.","success"),this.selectedUser=Object,this.isCreateUser=!1)})}}};s("25c8");const ae=X()(se,[["render",B],["__scopeId","data-v-3ab7cb91"]]);t["default"]=ae},4905:function(e,t,s){"use strict";var a=s("b7a2");const i={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:""};function l(e,t){return Object(a["B"])(),Object(a["h"])("svg",i,[...t[0]||(t[0]=[Object(a["i"])("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"},null,-1)])])}var c=s("4f1a"),r=s.n(c);const o={},n=r()(o,[["render",l]]);t["a"]=n},5801:function(e,t,s){"use strict";var a=s("b7a2");const i={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:""};function l(e,t){return Object(a["B"])(),Object(a["h"])("svg",i,[...t[0]||(t[0]=[Object(a["i"])("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"},null,-1)])])}var c=s("4f1a"),r=s.n(c);const o={},n=r()(o,[["render",l]]);t["a"]=n},c690:function(e,t,s){},de1a:function(e,t,s){"use strict";var a=s("b7a2");const i={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 animate-spin"};function l(e,t){return Object(a["B"])(),Object(a["h"])("svg",i,[...t[0]||(t[0]=[Object(a["i"])("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"},null,-1)])])}var c=s("4f1a"),r=s.n(c);const o={},n=r()(o,[["render",l]]);t["a"]=n}}]);
//# sourceMappingURL=chunk-3a4dca9e.76416bd6.js.map