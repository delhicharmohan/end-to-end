(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9a994984"],{"10bc":function(e,t,a){"use strict";a("7e58")},"7e58":function(e,t,a){},"95bb":function(e,t,a){"use strict";a.r(t);var s=a("b7a2");const c={class:"h-full flex flex-col p-4"},o={key:"1",class:"h-full"},l={class:"flex w-full ht-42 px-4 mt-2"},i={key:0,class:"h-full w-full flex justify-start items-center"},r={class:"ml-2 font-semibold text-xl"},n={key:1,class:"h-full w-full flex justify-start items-center"},p={class:"ml-2 font-semibold text-xl"},b={key:1,class:"flex-auto flex flex-col overflow-y-auto"},d={key:"2",class:"h-full"},j={class:"flex justify-end items-center px-4 pt-4"};function O(e,t,a,O,u,m){const h=Object(s["H"])("base-dialog"),y=Object(s["H"])("base-toast"),v=Object(s["H"])("icon-spinner"),x=Object(s["H"])("icon-back"),f=Object(s["H"])("base-spinner"),g=Object(s["H"])("generate-report-form"),w=Object(s["H"])("base-card"),k=Object(s["H"])("base-button"),B=Object(s["H"])("pay-in-report");return Object(s["B"])(),Object(s["h"])("div",c,[Object(s["l"])(h,{show:!!u.error,title:"An error occurred!",onClose:m.handleError},{default:Object(s["T"])(()=>[Object(s["i"])("p",null,Object(s["L"])(u.error),1)]),_:1},8,["show","onClose"]),u.baseToast.message?(Object(s["B"])(),Object(s["f"])(y,{key:0,message:u.baseToast.message,type:u.baseToast.type,onClose:m.handleBaseToast},null,8,["message","type","onClose"])):Object(s["g"])("",!0),Object(s["l"])(s["c"],{name:"fade",mode:"out-in"},{default:Object(s["T"])(()=>[u.isGenerateReport?(Object(s["B"])(),Object(s["h"])("section",o,[Object(s["l"])(w,{class:"h-full flex flex-col"},{default:Object(s["T"])(()=>[Object(s["i"])("div",l,[u.isLoading?(Object(s["B"])(),Object(s["h"])("div",i,[Object(s["l"])(v,{class:"text-blue-600"}),Object(s["i"])("h1",r,Object(s["L"])(m.getFormTextLoading),1)])):(Object(s["B"])(),Object(s["h"])("div",n,[Object(s["l"])(x,{onClick:Object(s["V"])(m.backButtonClicked,["stop"]),class:"text-blue-600"},null,8,["onClick"]),Object(s["i"])("h1",p,Object(s["L"])(m.getFormText),1)]))]),u.isLoading?(Object(s["B"])(),Object(s["f"])(f,{key:0,class:"flex-auto"})):(Object(s["B"])(),Object(s["h"])("div",b,[Object(s["l"])(g,{onGenerateReport:m.generateReport},null,8,["onGenerateReport"])]))]),_:1})])):(Object(s["B"])(),Object(s["h"])("section",d,[Object(s["l"])(w,{class:Object(s["t"])(["h-full flex flex-col overflow-y-hidden",u.isLoading?"flex":""])},{default:Object(s["T"])(()=>[Object(s["i"])("div",j,[Object(s["l"])(k,{mode:"outline",onClick:Object(s["V"])(m.createBtnClicked,["stop"])},{default:Object(s["T"])(()=>[...t[0]||(t[0]=[Object(s["k"])("Generate",-1)])]),_:1},8,["onClick"])]),Object(s["l"])(B)]),_:1},8,["class"])]))]),_:1})])}const u={class:"h-full w-full flex flex-col"},m={key:1,class:"flex flex-col overflow-x-auto"},h={class:"sm:-mx-6 lg:-mx-8"},y={class:"inline-block min-w-full sm:px-6 lg:px-8"},v={class:"overflow-x-auto"},x={class:"min-w-full text-left text-sm font-light"},f={class:"whitespace-nowrap px-6 py-4 font-medium"},g={class:"whitespace-nowrap px-6 py-4"},w={class:"whitespace-nowrap px-6 py-4"},k={class:"whitespace-nowrap px-6 py-4"},B={class:"whitespace-nowrap px-6 py-4 uppercase"},L={class:"whitespace-nowrap px-6 py-4"},T={class:"whitespace-nowrap px-6 py-4"},R={class:"whitespace-nowrap px-6 py-4"},V={class:"whitespace-nowrap px-6 py-4"},N={class:"whitespace-nowrap px-6 py-4"},U={class:"whitespace-nowrap px-6 py-4"},D={class:"whitespace-nowrap px-6 py-4"},I={class:"whitespace-nowrap px-6 py-4"},A={class:"whitespace-nowrap px-6 py-4"},C={class:"whitespace-nowrap px-6 py-4"},_={class:"whitespace-nowrap px-6 py-4"},F={class:"whitespace-nowrap px-6 py-4"},P={class:"whitespace-nowrap px-6 py-4"},S={class:"whitespace-nowrap px-6 py-4"},G={class:"whitespace-nowrap px-6 py-4"},H={key:2,class:"text-center font-medium"};function W(e,t,a,c,o,l){const i=Object(s["H"])("base-spinner");return Object(s["B"])(),Object(s["h"])("div",u,[o.isLoading?(Object(s["B"])(),Object(s["f"])(i,{key:0,class:"flex-auto"})):l.hasReports&&!o.isLoading?(Object(s["B"])(),Object(s["h"])("div",m,[Object(s["i"])("div",h,[Object(s["i"])("div",y,[Object(s["i"])("div",v,[Object(s["i"])("table",x,[t[0]||(t[0]=Object(s["i"])("thead",{class:"border-b font-medium dark:border-neutral-500"},[Object(s["i"])("tr",null,[Object(s["i"])("th",{scope:"col",class:"px-6 py-4"},"#"),Object(s["i"])("th",{scope:"col",class:"px-6 py-4"},"Platform"),Object(s["i"])("th",{scope:"col",class:"px-6 py-4"},"Vendor"),Object(s["i"])("th",{scope:"col",class:"px-6 py-4"},"Order ID"),Object(s["i"])("th",{scope:"col",class:"px-6 py-4"},"Receipt ID"),Object(s["i"])("th",{scope:"col",class:"px-6 py-4"},"Customer Name"),Object(s["i"])("th",{scope:"col",class:"px-6 py-4"},"Amount"),Object(s["i"])("th",{scope:"col",class:"px-6 py-4"},"Payment Status"),Object(s["i"])("th",{scope:"col",class:"px-6 py-4"},"Automation Type"),Object(s["i"])("th",{scope:"col",class:"px-6 py-4"},"UTR"),Object(s["i"])("th",{scope:"col",class:"px-6 py-4"},"Type"),Object(s["i"])("th",{scope:"col",class:"px-6 py-4"},"Payment Type"),Object(s["i"])("th",{scope:"col",class:"px-6 py-4"},"Transaction Type"),Object(s["i"])("th",{scope:"col",class:"px-6 py-4"},"Account Number"),Object(s["i"])("th",{scope:"col",class:"px-6 py-4"},"IFSC"),Object(s["i"])("th",{scope:"col",class:"px-6 py-4"},"Bank Name"),Object(s["i"])("th",{scope:"col",class:"px-6 py-4"},"Created By"),Object(s["i"])("th",{scope:"col",class:"px-6 py-4"},"Assigned To"),Object(s["i"])("th",{scope:"col",class:"px-6 py-4"},"Assigned UPI"),Object(s["i"])("th",{scope:"col",class:"px-6 py-4"},"Approved By")])],-1)),Object(s["i"])("tbody",null,[(Object(s["B"])(!0),Object(s["h"])(s["a"],null,Object(s["F"])(l.filteredReports,(e,t)=>(Object(s["B"])(),Object(s["h"])("tr",{key:t,class:"border-b dark:border-neutral-500"},[Object(s["i"])("td",f,Object(s["L"])(t+1),1),Object(s["i"])("td",g,Object(s["L"])(e.clientName),1),Object(s["i"])("td",w,Object(s["L"])(e.vendor),1),Object(s["i"])("td",k,Object(s["L"])(e.merchantOrderId),1),Object(s["i"])("td",B,Object(s["L"])(e.receiptId),1),Object(s["i"])("td",L,Object(s["L"])(e.customerName),1),Object(s["i"])("td",T,Object(s["L"])(e.amount),1),Object(s["i"])("td",R,Object(s["L"])(e.paymentStatus),1),Object(s["i"])("td",V,Object(s["L"])(l.getAutomationMode(e.automation_type)),1),Object(s["i"])("td",N,Object(s["L"])(e.transactionID),1),Object(s["i"])("td",U,Object(s["L"])(e.type),1),Object(s["i"])("td",D,Object(s["L"])(e.mode),1),Object(s["i"])("td",I,Object(s["L"])(e.transactionType),1),Object(s["i"])("td",A,Object(s["L"])(e.accountNumber),1),Object(s["i"])("td",C,Object(s["L"])(e.ifsc),1),Object(s["i"])("td",_,Object(s["L"])(e.bankName),1),Object(s["i"])("td",F,Object(s["L"])(l.getCreatedBy(e.created_by)),1),Object(s["i"])("td",P,Object(s["L"])(e.validatorUsername),1),Object(s["i"])("td",S,Object(s["L"])(e.validatorUPIID),1),Object(s["i"])("td",G,Object(s["L"])(l.getApprovedBy(e.approvedBy,e.validatorUsername)),1)]))),128))])])])])])])):(Object(s["B"])(),Object(s["h"])("h3",H,"No reports found!"))])}var E={name:"pay-in-report",emits:["edit-client"],data(){return{isLoading:!1,error:null}},created(){this.getReports()},computed:{hasReports(){return this.$store.getters["reports/hasReports"]},filteredReports(){return this.$store.getters["reports/reports"]}},methods:{getCreatedBy(e){return"common_link"==e?"Common Link":e},async getReports(){this.isLoading=!0;try{await this.$store.dispatch("reports/getReports")}catch(e){this.error=e.message||"Something failed!"}this.isLoading=!1},getAutomationMode(e){return"bank_sms"==e?"Bank SMS":"bank_data"==e?"Bank Login":""},getApprovedBy(e,t){return"user"==e?t:"Admin"}}},$=a("4f1a"),Q=a.n($);const M=Q()(E,[["render",W]]);var J=M;const z={class:"w-full flex flex-row flex-wrap mt-4"},q={key:0,class:"text-xs text-red-600"},K={class:"w-1/2 pl-4"},X={class:"mt-4 w-1/2 pr-4"},Y=["value"],Z={class:"mt-4 w-1/2 pl-4"},ee={key:0,class:"text-xs text-red-600"},te={class:"mt-4 w-1/2 pl-4"},ae=["value"],se={class:"mt-4 w-1/2 pr-4"},ce={class:"mt-4 w-1/2 pl-4"},oe={class:"w-full flex flex-col justify-center items-center mt-8"},le={key:0,class:"mb-4 text-red-600"};function ie(e,t,a,c,o,l){const i=Object(s["H"])("base-button");return Object(s["B"])(),Object(s["h"])("form",{onSubmit:t[10]||(t[10]=Object(s["V"])((...e)=>l.submitForm&&l.submitForm(...e),["prevent"])),class:"flex flex-row flex-wrap px-4 mt-4 mb-4"},[Object(s["i"])("div",z,[Object(s["i"])("div",{class:Object(s["t"])(["w-1/2 pr-4",{invalid:!o.reportName.isValid}])},[t[11]||(t[11]=Object(s["i"])("label",{for:"reportName"},"Report Name",-1)),Object(s["U"])(Object(s["i"])("input",{type:"text",id:"reportName","onUpdate:modelValue":t[0]||(t[0]=e=>o.reportName.val=e),onBlur:t[1]||(t[1]=e=>l.clearValidity("reportName"))},null,544),[[s["Q"],o.reportName.val,void 0,{trim:!0}]]),o.reportName.isValid?Object(s["g"])("",!0):(Object(s["B"])(),Object(s["h"])("p",q," Report Name must not be empty. "))],2),Object(s["i"])("div",K,[t[13]||(t[13]=Object(s["i"])("label",{for:"reportType"},"Report Type",-1)),Object(s["U"])(Object(s["i"])("select",{id:"reportType","onUpdate:modelValue":t[2]||(t[2]=e=>o.reportType.val=e)},[...t[12]||(t[12]=[Object(s["i"])("option",{value:""},"All",-1),Object(s["i"])("option",{value:"payin"},"Pay In",-1),Object(s["i"])("option",{value:"payout"},"Pay Out",-1)])],512),[[s["P"],o.reportType.val,void 0,{trim:!0}]])]),Object(s["i"])("div",X,[t[15]||(t[15]=Object(s["i"])("label",{for:"clientName"},"Platform",-1)),Object(s["U"])(Object(s["i"])("select",{id:"clientName","onUpdate:modelValue":t[3]||(t[3]=e=>o.clientName.val=e)},[t[14]||(t[14]=Object(s["i"])("option",{value:""},"All",-1)),(Object(s["B"])(!0),Object(s["h"])(s["a"],null,Object(s["F"])(o.websites,(e,t)=>(Object(s["B"])(),Object(s["h"])("option",{key:t,value:e.website},Object(s["L"])(e.website),9,Y))),128))],512),[[s["P"],o.clientName.val,void 0,{trim:!0}]])]),Object(s["i"])("div",Z,[t[17]||(t[17]=Object(s["i"])("label",{for:"status"},"Status",-1)),Object(s["U"])(Object(s["i"])("select",{id:"status","onUpdate:modelValue":t[4]||(t[4]=e=>o.status.val=e)},[...t[16]||(t[16]=[Object(s["j"])('<option value="">All</option><option value="unassigned">Unassigned</option><option value="pending">Pending</option><option value="approved">Approved</option><option value="expired">Expired</option><option value="rejected">Rejected</option>',6)])],512),[[s["P"],o.status.val,void 0,{trim:!0}]])]),Object(s["i"])("div",{class:Object(s["t"])(["mt-4 w-1/2 pr-4",{invalid:!o.amount.isValid}])},[t[18]||(t[18]=Object(s["i"])("label",{for:"amount"},"Amount",-1)),Object(s["U"])(Object(s["i"])("input",{type:"number",id:"amount","onUpdate:modelValue":t[5]||(t[5]=e=>o.amount.val=e),onBlur:t[6]||(t[6]=e=>l.clearValidity("amount"))},null,544),[[s["Q"],o.amount.val,void 0,{trim:!0}]]),o.amount.isValid?Object(s["g"])("",!0):(Object(s["B"])(),Object(s["h"])("p",ee,Object(s["L"])(o.amount.msg),1))],2),Object(s["i"])("div",te,[t[20]||(t[20]=Object(s["i"])("label",{for:"user"},"User",-1)),Object(s["U"])(Object(s["i"])("select",{id:"user","onUpdate:modelValue":t[7]||(t[7]=e=>o.validatorUsername.val=e)},[t[19]||(t[19]=Object(s["i"])("option",{value:""},"All",-1)),(Object(s["B"])(!0),Object(s["h"])(s["a"],null,Object(s["F"])(l.agents,(e,t)=>(Object(s["B"])(),Object(s["h"])("option",{key:t,value:e.username},Object(s["L"])(e.username),9,ae))),128))],512),[[s["P"],o.validatorUsername.val,void 0,{trim:!0}]])]),Object(s["i"])("div",se,[t[21]||(t[21]=Object(s["i"])("label",{for:"startDate"},"Start Date",-1)),Object(s["U"])(Object(s["i"])("input",{type:"date",id:"startDate","onUpdate:modelValue":t[8]||(t[8]=e=>o.startDate.val=e)},null,512),[[s["Q"],o.startDate.val,void 0,{trim:!0}]])]),Object(s["i"])("div",ce,[t[22]||(t[22]=Object(s["i"])("label",{for:"endDate"},"End Date",-1)),Object(s["U"])(Object(s["i"])("input",{type:"date",id:"startDate","onUpdate:modelValue":t[9]||(t[9]=e=>o.endDate.val=e)},null,512),[[s["Q"],o.endDate.val,void 0,{trim:!0}]])])]),Object(s["i"])("div",oe,[o.formIsValid?Object(s["g"])("",!0):(Object(s["B"])(),Object(s["h"])("p",le," Please fix the above errors and submit again. ")),Object(s["l"])(i,null,{default:Object(s["T"])(()=>[...t[23]||(t[23]=[Object(s["i"])("span",{class:"capitalize"},"Generate",-1)])]),_:1})])],32)}var re=a("c427"),ne={name:"generate-report-form",emits:["generate-report"],data(){return{reportName:{val:"",isValid:!0,msg:""},reportType:{val:"",isValid:!0,msg:""},clientName:{val:"",isValid:!0,msg:""},status:{val:"",isValid:!0,msg:""},amount:{val:"",isValid:!0,msg:""},validatorUsername:{val:"",isValid:!0,msg:""},startDate:{val:"",isValid:!0,msg:""},endDate:{val:"",isValid:!0,msg:""},formIsValid:!0,usersWithRole:[],websites:[]}},computed:{agents(){return this.usersWithRole}},created(){this.getUsersWithRole(),this.getWebsites()},methods:{async getUsersWithRole(){try{const e=await re["a"].get("/users/user");200==e.status&&(this.usersWithRole=e.data)}catch(e){console.log(e)}},async getWebsites(){try{const e=await re["a"].get("/reports/websites");200===e.status&&(this.websites=e.data)}catch(e){console.log(e)}},clearValidity(e){this[e].isValid=!0,this[e].msg=""},validateForm(){this.formIsValid=!0,""===this.reportName.val&&(this.reportName.isValid=!1,this.formIsValid=!1)},submitForm(){if(this.validateForm(),!this.formIsValid)return;let e={reportName:this.reportName.val,type:this.reportType.val,clientName:this.clientName.val,paymentStatus:this.status.val,amount:this.amount.val,validatorUsername:this.validatorUsername.val,startDate:this.startDate.val,endDate:this.endDate.val};this.$emit("generate-report",e)}}};const pe=Q()(ne,[["render",ie]]);var be=pe,de=a("de1a"),je=a("7f16"),Oe=a("7a32"),ue=a.n(Oe),me={name:"clients",components:{PayInReport:J,GenerateReportForm:be,IconSpinner:de["a"],IconBack:je["a"]},data(){return{isLoading:!1,error:null,isGenerateReport:!1,baseToast:{type:"",message:""}}},computed:{getFormText(){return"Generate Report"},getFormTextLoading(){return"Generating..."},generatedReport(){return this.$store.getters["reports/generatedReport"]}},methods:{backButtonClicked(){this.isGenerateReport=!1},createBtnClicked(){this.isGenerateReport=!0},handleError(){this.error=null},handleBaseToast(){this.baseToast={type:"",message:""}},async generateReport(e){const t=e.reportName;delete e.reportName,this.isLoading=!0;try{await this.$store.dispatch("reports/generateReport",e),this.generatedReport.length>0?(this.baseToast.message="Report generated successfully!",this.baseToast.type="success",this.exportExcel(t)):(this.baseToast.message="0 records found. Report not created!",this.baseToast.type="warning");let a=this;setTimeout(()=>{a.handleBaseToast()},1e3)}catch(a){this.error=a.message||"Something failed!"}this.isLoading=!1},exportExcel(e){const t=ue.a,a=t.utils.book_new(),s=t.utils.json_to_sheet(this.generatedReport);t.utils.book_append_sheet(a,s,"Sheet1"),t.writeFile(a,e+".xlsx")}}};a("10bc");const he=Q()(me,[["render",O],["__scopeId","data-v-73d52531"]]);t["default"]=he}}]);
//# sourceMappingURL=chunk-9a994984.dc41c9b0.js.map