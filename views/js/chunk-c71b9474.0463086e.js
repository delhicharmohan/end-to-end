(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c71b9474"],{"0927":function(e,t,s){"use strict";var o=s("b7a2");const a={class:"flex flex-col overflow-x-auto"},r={class:"text-xs text-gray-600"},i={class:"font-bold"},c={class:"font-bold"},l={class:"font-bold"},n={class:"flex justify-between items-center mt-2"},d={class:"flex border border-gray-100"},b=["onClick"],p={class:"border-2 border-gray-100 flex"};function h(e,t,s,h,u,f){const g=Object(o["H"])("icon-chevron-left"),j=Object(o["H"])("icon-chevron-right");return Object(o["B"])(),Object(o["h"])("div",a,[Object(o["i"])("div",r,[t[4]||(t[4]=Object(o["k"])("Showing ",-1)),Object(o["i"])("span",i,Object(o["L"])(s.paginatorInfo.firstItem),1),t[5]||(t[5]=Object(o["k"])(" to ",-1)),Object(o["i"])("span",c,Object(o["L"])(s.paginatorInfo.lastItem),1),t[6]||(t[6]=Object(o["k"])(" of ",-1)),Object(o["i"])("span",l,Object(o["L"])(s.paginatorInfo.total),1),t[7]||(t[7]=Object(o["k"])(" Entries",-1))]),Object(o["i"])("div",n,[Object(o["i"])("div",d,[Object(o["i"])("div",{class:"w-12 h-8 border border-gray-100 flex justify-center items-center cursor-pointer hover:text-purple-pink hover:bg-blue-50 text-xs text-gray-600",onClick:t[0]||(t[0]=e=>f.goToPage(1))},"First"),(Object(o["B"])(!0),Object(o["h"])(o["a"],null,Object(o["F"])(f.pages,e=>(Object(o["B"])(),Object(o["h"])("div",{class:Object(o["t"])([s.paginatorInfo.currentPage==e?"text-purple-pink bg-blue-50 font-medium":"","w-12 h-8 border border-gray-100 flex justify-center items-center cursor-pointer hover:text-purple-pink hover:bg-blue-50 text-xs text-gray-600"]),key:e,onClick:t=>f.goToPage(e)},Object(o["L"])(e),11,b))),128)),Object(o["i"])("div",{class:"w-12 h-8 border border-gray-100 flex justify-center items-center cursor-pointer hover:text-purple-pink hover:bg-blue-50 text-xs text-gray-600",onClick:t[1]||(t[1]=e=>f.goToPage(f.totalPages))},"Last")]),Object(o["i"])("div",p,[Object(o["i"])("div",{onClick:t[2]||(t[2]=(...e)=>f.previousPage&&f.previousPage(...e)),class:"w-10 h-8 border-r border-gray-100 flex justify-center items-center cursor-pointer hover:bg-blue-50 group"},[Object(o["l"])(g,{class:"h-5 w-5 text-gray-400 group-hover:text-purple-pink"})]),Object(o["i"])("div",{onClick:t[3]||(t[3]=(...e)=>f.nextPage&&f.nextPage(...e)),class:"w-10 h-8 border-l border-gray-100 flex justify-center items-center cursor-pointer hover:bg-blue-50 group"},[Object(o["l"])(j,{class:"h-5 w-5 text-gray-400 group-hover:text-purple-pink"})])])])])}s("d999");const u={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",class:""};function f(e,t){return Object(o["B"])(),Object(o["h"])("svg",u,[...t[0]||(t[0]=[Object(o["i"])("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"},null,-1)])])}var g=s("4f1a"),j=s.n(g);const m={},O=j()(m,[["render",f]]);var w=O;const x={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",class:""};function v(e,t){return Object(o["B"])(),Object(o["h"])("svg",x,[...t[0]||(t[0]=[Object(o["i"])("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5L8.25 12l7.5-7.5"},null,-1)])])}const P={},y=j()(P,[["render",v]]);var k=y,V={name:"pagination",components:{IconChevronRight:w,IconChevronLeft:k},props:{paginatorInfo:Object,setPage:Function},computed:{page(){return this.paginatorInfo.currentPage},totalPages(){return this.paginatorInfo.lastPage},hasPreviousPage(){return this.paginatorInfo.currentPage>1},hasNextPage(){return this.paginatorInfo.hasMorePages},pages(){const e=Math.max(this.page-2,1),t=Math.min(e+4,this.totalPages),s=[];for(let o=e;o<=t;o++)s.push(o);return s}},methods:{previousPage(){this.hasPreviousPage&&this.setPage(this.page-1)},nextPage(){this.hasNextPage&&this.setPage(this.page+1)},goToPage(e){this.setPage(e)}}};const I=j()(V,[["render",h]]);t["a"]=I},"40da":function(e,t,s){"use strict";s.r(t);var o=s("b7a2");const a={class:"h-full flex flex-col p-4"},r={class:"h-full"},i={key:1,class:"flex flex-col overflow-x-auto h-full"},c={class:"sm:-mx-6 lg:-mx-8"},l={class:"inline-block min-w-full sm:px-6 lg:px-8"},n={class:"overflow-x-auto"},d={class:"min-w-full text-left text-sm font-light"},b={class:"whitespace-nowrap px-6 py-4 font-medium"},p={class:"whitespace-nowrap px-6 py-4"},h={class:"whitespace-nowrap px-6 py-4 font-semibold"},u={class:"whitespace-nowrap px-6 py-4"},f={class:"flex justify-center items-center"},g={class:"mt-4 flex-auto flex flex-col justify-end"},j={class:"grid grid-cols-1 gap-6 p-8"},m={key:0,class:"h-4 text-xs text-red-600"},O={key:0,class:"h-4 text-xs text-red-600"},w={key:2,class:"text-center font-medium"};function x(e,t,s,x,v,P){const y=Object(o["H"])("base-spinner"),k=Object(o["H"])("icon-edit"),V=Object(o["H"])("pagination"),I=Object(o["H"])("base-modal"),L=Object(o["H"])("base-card");return Object(o["B"])(),Object(o["h"])("div",a,[Object(o["i"])("div",r,[Object(o["l"])(L,{class:Object(o["t"])(["h-full flex flex-col",v.isLoading?"flex":""])},{default:Object(o["T"])(()=>[v.isLoading?(Object(o["B"])(),Object(o["f"])(y,{key:0,class:"flex-auto"})):P.hasUsers&&!v.isLoading?(Object(o["B"])(),Object(o["h"])("div",i,[Object(o["i"])("div",c,[Object(o["i"])("div",l,[Object(o["i"])("div",n,[Object(o["i"])("table",d,[t[5]||(t[5]=Object(o["i"])("thead",{class:"border-b font-medium dark:border-neutral-500"},[Object(o["i"])("tr",null,[Object(o["i"])("th",{scope:"col",class:"px-6 py-4"},"#"),Object(o["i"])("th",{scope:"col",class:"px-6 py-4"},"Name"),Object(o["i"])("th",{scope:"col",class:"px-6 py-4"},"Username"),Object(o["i"])("th",{scope:"col",class:"px-6 py-4"},"Role"),Object(o["i"])("th",{scope:"col",class:"px-6 py-4 text-center"},"Actions")])],-1)),Object(o["i"])("tbody",null,[(Object(o["B"])(!0),Object(o["h"])(o["a"],null,Object(o["F"])(v.users,(e,t)=>(Object(o["B"])(),Object(o["h"])("tr",{key:t,class:"border-b dark:border-neutral-500"},[Object(o["i"])("td",b,Object(o["L"])(v.pagination.firstItem+t),1),Object(o["i"])("td",p,Object(o["L"])(e.name),1),Object(o["i"])("td",h,Object(o["L"])(e.username),1),Object(o["i"])("td",u,Object(o["L"])(e.role),1),Object(o["i"])("td",null,[Object(o["i"])("div",f,[Object(o["l"])(k,{onClick:Object(o["V"])(t=>P.openModal(e.username),["stop"]),class:"h-4 w-4 cursor-pointer hover:text-blue-600 mr-2"},null,8,["onClick"])])])]))),128))])])])])]),Object(o["i"])("div",g,[Object(o["l"])(V,{paginatorInfo:v.pagination,setPage:P.setPage},null,8,["paginatorInfo","setPage"])]),Object(o["l"])(o["c"],{name:"fade",mode:"out-in"},{default:Object(o["T"])(()=>[v.showModal?(Object(o["B"])(),Object(o["f"])(I,{key:0,title:"Reset Password - "+v.selectedUsername,onClose:P.closeModal},{default:Object(o["T"])(()=>[Object(o["i"])("form",{class:"flex flex-col",onSubmit:t[4]||(t[4]=Object(o["V"])((...e)=>P.submitForm&&P.submitForm(...e),["prevent"]))},[Object(o["i"])("div",j,[Object(o["i"])("div",{class:Object(o["t"])(["flex flex-col",{invalid:!v.password.isValid}])},[t[6]||(t[6]=Object(o["i"])("label",{for:"password"},"New Password*",-1)),Object(o["U"])(Object(o["i"])("input",{type:"password",autocomplete:"off",id:"password","onUpdate:modelValue":t[0]||(t[0]=e=>v.password.val=e),placeholder:"New Password",onBlur:t[1]||(t[1]=e=>P.clearValidity("password"))},null,544),[[o["Q"],v.password.val,void 0,{trim:!0}]]),Object(o["l"])(o["c"],{name:"fade",mode:"out-in"},{default:Object(o["T"])(()=>[v.password.isValid?Object(o["g"])("",!0):(Object(o["B"])(),Object(o["h"])("p",m,Object(o["L"])(v.password.msg),1))]),_:1})],2),Object(o["i"])("div",{class:Object(o["t"])(["flex flex-col",{invalid:!v.confirmPassword.isValid}])},[t[7]||(t[7]=Object(o["i"])("label",{for:"confirmPassword"},"Confirm New Password*",-1)),Object(o["U"])(Object(o["i"])("input",{type:"password",autocomplete:"off",id:"confirmPassword","onUpdate:modelValue":t[2]||(t[2]=e=>v.confirmPassword.val=e),placeholder:"Confirm New Password",onBlur:t[3]||(t[3]=e=>P.clearValidity("confirmPassword"))},null,544),[[o["Q"],v.confirmPassword.val,void 0,{trim:!0}]]),Object(o["l"])(o["c"],{name:"fade",mode:"out-in"},{default:Object(o["T"])(()=>[v.confirmPassword.isValid?Object(o["g"])("",!0):(Object(o["B"])(),Object(o["h"])("p",O,Object(o["L"])(v.confirmPassword.msg),1))]),_:1})],2)]),t[8]||(t[8]=Object(o["i"])("div",{class:"flex justify-center"},[Object(o["i"])("button",{type:"submit",class:"border-2 font-medium border-green-600 text-white hover:text-green-600 bg-green-600 hover:bg-white rounded-lg px-5 py-2 uppercase text-sm cursor-pointer"},"Submit")],-1))],32)]),_:1},8,["title","onClose"])):Object(o["g"])("",!0)]),_:1})])):(Object(o["B"])(),Object(o["h"])("h3",w,"No users found!"))]),_:1},8,["class"])])])}var v=s("c427"),P=s("4905"),y=s("0927"),k={name:"reset-password",components:{IconEdit:P["a"],Pagination:y["a"]},data(){return{isLoading:!1,first:10,page:1,users:[],pagination:{},showModal:!1,selectedUsername:null,password:{val:"",isValid:!0,msg:""},confirmPassword:{val:"",isValid:!0,msg:""},formIsValid:!0}},created(){this.getUsers()},computed:{vendor(){return this.$store.getters.vendor},hasUsers(){return this.users&&this.users.length>0}},methods:{setPage(e){this.page=e,this.getUsers()},clearValidity(e){this[e].isValid=!0,this[e].msg=""},async getUsers(){this.isLoading=!0;try{let e=`/users/${this.vendor}/getResetPasswordUsers?first=${this.first}&page=${this.page}`;const t=await v["a"].get(e);200===t.status&&(t.data.success?(this.users=t.data.data,this.pagination=t.data.pagination):this.showError(t.data.message))}catch(e){this.showError(e)}this.isLoading=!1},openModal(e){this.selectedUsername=e,this.showModal=!0},closeModal(){this.showModal=!1,this.resetData(),this.selectedUsername=null},resetData(){this.password={val:"",isValid:!0,msg:""},this.confirmPassword={val:"",isValid:!0,msg:""}},validateForm(){this.formIsValid=!0,""===this.password.val&&(this.password.isValid=!1,this.password.msg="New Password must not be empty.",this.formIsValid=!1),""===this.confirmPassword.val&&(this.confirmPassword.isValid=!1,this.confirmPassword.msg="Confirm New Password must not be empty.",this.formIsValid=!1),""!=this.password.val&&""!=this.confirmPassword.val&&this.password.val!=this.confirmPassword.val&&(this.confirmPassword.isValid=!1,this.confirmPassword.msg="Password Mismatch.",this.formIsValid=!1)},async submitForm(){if(this.validateForm(),!this.formIsValid)return;const e={password:this.password.val};try{let t=`/users/${this.selectedUsername}/updatePassword`;const s=await v["a"].post(t,e);201===s.status&&(s.data.success?(this.$swal.fire("Updated!",""+s.data.message,"success"),this.closeModal()):this.showError(s.data.message))}catch(t){this.showError(t)}},showError(e){this.$swal.fire({icon:"error",title:e,text:""}).then(e=>{(e.value||e.dismiss)&&this.closeModal()})}}},V=(s("e905"),s("4f1a")),I=s.n(V);const L=I()(k,[["render",x]]);t["default"]=L},4905:function(e,t,s){"use strict";var o=s("b7a2");const a={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:""};function r(e,t){return Object(o["B"])(),Object(o["h"])("svg",a,[...t[0]||(t[0]=[Object(o["i"])("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"},null,-1)])])}var i=s("4f1a"),c=s.n(i);const l={},n=c()(l,[["render",r]]);t["a"]=n},"7de3":function(e,t,s){},e905:function(e,t,s){"use strict";s("7de3")}}]);
//# sourceMappingURL=chunk-c71b9474.0463086e.js.map